# 입시 정보 시스템 백엔드 연동 계획서 (WBS)

## 프로젝트 개요
- **프로젝트명**: 입시 정보 시스템 백엔드 API 개발
- **목적**: 클라이언트 사이드 데이터를 서버 기반 시스템으로 전환
- **총 예상 기간**: 7-9주
- **시작일**: TBD
- **종료일**: TBD

---

## 1. 프로젝트 준비 및 설계 (1주차)

### 1.1 개발 환경 구축 (2일)
- [ ] Node.js 개발 환경 설정
  - Node.js v18+ 설치
  - 백엔드 프로젝트 초기화
  - Git 저장소 설정
- [ ] 개발 도구 설정
  - VS Code 확장 설치
  - ESLint, Prettier 설정
  - 환경 변수 파일 (.env) 구성
- [ ] 기술 스택 최종 확정
  - 백엔드 프레임워크: Express.js
  - 데이터베이스: PostgreSQL/MySQL
  - ORM: Prisma/Sequelize
  - 인증: JWT

**산출물**:
- 프로젝트 초기 구조
- package.json
- .env.example

---

### 1.2 데이터베이스 설계 (3일)
- [ ] ERD(Entity Relationship Diagram) 작성
  - 주요 엔티티 정의 (Users, Scores, Universities, Departments 등)
  - 관계 정의
  - 제약조건 설정
- [ ] 데이터베이스 스키마 설계
  - 테이블 구조 정의
  - 인덱스 설계
  - 트랜잭션 정책 수립
- [ ] 마스터 데이터 분석
  - `TB_MASTER_1014_ver2.xlsx` 분석
  - `202509분포(실채점).xlsx` 분석
  - 데이터 정규화 계획

**산출물**:
- ERD 문서
- 데이터베이스 스키마 SQL
- 마스터 데이터 임포트 스크립트

---

### 1.3 API 설계 (2일)
- [ ] REST API 명세서 작성
  - Endpoint 정의
  - Request/Response 스키마
  - 에러 코드 정의
- [ ] API 문서화 도구 선정
  - Swagger/OpenAPI 설정
  - Postman Collection 생성

**산출물**:
- API 명세서 (Swagger)
- Postman Collection

---

## 2. Phase 1: 기본 인프라 구축 (2주차)

### 2.1 프로젝트 기본 구조 (2일)
- [ ] 폴더 구조 설정
  ```
  backend/
  ├── src/
  │   ├── config/       # 설정 파일
  │   ├── controllers/  # 컨트롤러
  │   ├── models/       # 데이터 모델
  │   ├── routes/       # 라우트
  │   ├── middlewares/  # 미들웨어
  │   ├── services/     # 비즈니스 로직
  │   ├── utils/        # 유틸리티
  │   └── app.js        # 앱 진입점
  ├── tests/            # 테스트 코드
  └── prisma/           # Prisma 스키마
  ```
- [ ] 기본 Express 서버 구성
  - CORS 설정
  - Body Parser 설정
  - Error Handler 구현
  - Logger 구현 (Winston/Morgan)

**예상 시간**: 2일
**담당자**: Backend Developer

---

### 2.2 데이터베이스 구축 (3일)
- [ ] 데이터베이스 설치 및 설정
  - PostgreSQL/MySQL 설치
  - 개발/테스트/운영 DB 구성
- [ ] ORM 설정
  - Prisma Schema 작성
  - Migration 파일 생성
  - Seed 데이터 작성
- [ ] 마스터 데이터 임포트
  - Excel 파일 파싱 스크립트 작성
  - 대학 정보 임포트
  - 학과 정보 임포트
  - 입시 결과 데이터 임포트

**예상 시간**: 3일
**담당자**: Backend Developer, Database Admin

---

### 2.3 사용자 인증 시스템 (3일)
- [ ] 사용자 모델 구현
  - User 스키마 정의
  - 비밀번호 암호화 (bcrypt)
- [ ] 회원가입 API
  - `POST /api/auth/register`
  - 이메일 중복 검증
  - 비밀번호 강도 검증
- [ ] 로그인 API
  - `POST /api/auth/login`
  - JWT 토큰 발급
  - Refresh Token 구현
- [ ] 인증 미들웨어
  - JWT 검증 미들웨어
  - 권한 확인 미들웨어
- [ ] 사용자 정보 관리 API
  - `GET /api/auth/me` (내 정보 조회)
  - `PUT /api/auth/me` (내 정보 수정)
  - `POST /api/auth/logout` (로그아웃)

**예상 시간**: 3일
**담당자**: Backend Developer

**API 목록**:
| Method | Endpoint | 설명 | 인증 필요 |
|--------|----------|------|-----------|
| POST | /api/auth/register | 회원가입 | X |
| POST | /api/auth/login | 로그인 | X |
| POST | /api/auth/logout | 로그아웃 | O |
| GET | /api/auth/me | 내 정보 조회 | O |
| PUT | /api/auth/me | 내 정보 수정 | O |
| POST | /api/auth/refresh | 토큰 갱신 | O |

---

## 3. Phase 2: 핵심 기능 개발 (3-4주차)

### 3.1 성적 관리 API (3일)
- [ ] 성적 데이터 모델 구현
  - Score 스키마 정의
  - User와의 관계 설정
- [ ] 성적 CRUD API
  - `POST /api/scores` (성적 등록)
  - `GET /api/scores` (내 성적 목록)
  - `GET /api/scores/:id` (성적 상세)
  - `PUT /api/scores/:id` (성적 수정)
  - `DELETE /api/scores/:id` (성적 삭제)
- [ ] 환산점수 계산 로직
  - `POST /api/scores/calculate` (환산점수 계산)
  - 과목별 가중치 적용
  - 등급 환산 로직
  - 총점 계산 알고리즘

**예상 시간**: 3일
**담당자**: Backend Developer

**API 목록**:
| Method | Endpoint | 설명 | 인증 필요 |
|--------|----------|------|-----------|
| POST | /api/scores | 성적 등록 | O |
| GET | /api/scores | 내 성적 목록 | O |
| GET | /api/scores/:id | 성적 상세 조회 | O |
| PUT | /api/scores/:id | 성적 수정 | O |
| DELETE | /api/scores/:id | 성적 삭제 | O |
| POST | /api/scores/calculate | 환산점수 계산 | O |

---

### 3.2 대학/학과 검색 API (4일)
- [ ] 대학 정보 API
  - `GET /api/universities` (대학 목록)
  - `GET /api/universities/:id` (대학 상세)
  - `GET /api/universities/:id/departments` (대학별 학과 목록)
- [ ] 학과 정보 API
  - `GET /api/departments` (학과 목록)
  - `GET /api/departments/:id` (학과 상세)
  - `GET /api/departments/:id/admission-results` (학과별 입시 결과)
- [ ] 통합 검색 API
  - `GET /api/search` (통합 검색)
  - 검색어 기반 검색 (대학명, 학과명)
  - 자동완성 기능
- [ ] 필터링 API
  - `POST /api/universities/filter` (고급 필터)
  - 지역별 필터
  - 계열별 필터
  - 대학군별 필터 (SKY, TOP11, TOP25)
  - 전형 유형별 필터
- [ ] 페이지네이션 구현
  - Offset-based pagination
  - 정렬 기능 (점수순, 이름순 등)

**예상 시간**: 4일
**담당자**: Backend Developer

**API 목록**:
| Method | Endpoint | 설명 | 인증 필요 |
|--------|----------|------|-----------|
| GET | /api/universities | 대학 목록 | X |
| GET | /api/universities/:id | 대학 상세 | X |
| GET | /api/universities/:id/departments | 대학별 학과 | X |
| GET | /api/departments | 학과 목록 | X |
| GET | /api/departments/:id | 학과 상세 | X |
| GET | /api/departments/:id/admission-results | 입시 결과 | X |
| GET | /api/search | 통합 검색 | X |
| POST | /api/universities/filter | 고급 필터 | X |

---

### 3.3 합격 가능성 분석 API (5일)
- [ ] 점수 분포 데이터 분석
  - `202509분포(실채점).xlsx` 데이터 활용
  - 정규분포 분석
  - 백분위 계산
- [ ] 합격 가능성 계산 로직
  - `POST /api/analysis/probability`
  - 내 점수 vs 학과별 커트라인 비교
  - 안정/적정/소신 판정 알고리즘
  - 확률 계산 (%)
- [ ] 맞춤 추천 알고리즘
  - `POST /api/analysis/recommend`
  - 사용자 성적 기반 추천
  - 선호 지역/계열 반영
  - 안정/적정/소신 균형 추천
- [ ] 점수 분포 조회 API
  - `GET /api/analysis/distribution`
  - 연도별 점수 분포
  - 학과별 점수 추이

**예상 시간**: 5일
**담당자**: Backend Developer, Data Analyst

**API 목록**:
| Method | Endpoint | 설명 | 인증 필요 |
|--------|----------|------|-----------|
| POST | /api/analysis/probability | 합격 가능성 계산 | O |
| POST | /api/analysis/recommend | 맞춤 대학 추천 | O |
| GET | /api/analysis/distribution | 점수 분포 조회 | X |
| GET | /api/analysis/trends/:departmentId | 학과별 점수 추이 | X |

---

## 4. Phase 3: 고급 기능 개발 (5-6주차)

### 4.1 포트폴리오 관리 API (4일)
- [ ] 포트폴리오 데이터 모델
  - Portfolio 스키마 정의
  - PortfolioItem 스키마 정의 (Many-to-Many)
- [ ] 포트폴리오 CRUD API
  - `POST /api/portfolios` (포트폴리오 생성)
  - `GET /api/portfolios` (내 포트폴리오 목록)
  - `GET /api/portfolios/:id` (포트폴리오 상세)
  - `PUT /api/portfolios/:id` (포트폴리오 수정)
  - `DELETE /api/portfolios/:id` (포트폴리오 삭제)
- [ ] 포트폴리오 아이템 관리
  - `POST /api/portfolios/:id/items` (대학 추가)
  - `DELETE /api/portfolios/:id/items/:itemId` (대학 제거)
  - `PUT /api/portfolios/:id/items/:itemId` (우선순위 변경)
- [ ] 포트폴리오 자동 생성
  - `POST /api/portfolios/auto-generate`
  - 사용자 성적 기반 자동 생성
  - 안정/적정/소신 균형 배치
- [ ] 포트폴리오 공유 기능
  - `POST /api/portfolios/:id/share` (공유 링크 생성)
  - `GET /api/shared/:shareToken` (공유된 포트폴리오 조회)

**예상 시간**: 4일
**담당자**: Backend Developer

**API 목록**:
| Method | Endpoint | 설명 | 인증 필요 |
|--------|----------|------|-----------|
| POST | /api/portfolios | 포트폴리오 생성 | O |
| GET | /api/portfolios | 내 포트폴리오 목록 | O |
| GET | /api/portfolios/:id | 포트폴리오 상세 | O |
| PUT | /api/portfolios/:id | 포트폴리오 수정 | O |
| DELETE | /api/portfolios/:id | 포트폴리오 삭제 | O |
| POST | /api/portfolios/:id/items | 대학 추가 | O |
| DELETE | /api/portfolios/:id/items/:itemId | 대학 제거 | O |
| POST | /api/portfolios/auto-generate | 자동 생성 | O |
| POST | /api/portfolios/:id/share | 공유 링크 생성 | O |
| GET | /api/shared/:shareToken | 공유 포트폴리오 조회 | X |

---

### 4.2 비교 기능 API (2일)
- [ ] 비교 데이터 모델
  - Comparison 스키마 (임시 저장용)
- [ ] 비교 API
  - `POST /api/compare` (대학/학과 비교)
  - 최대 3개 비교
  - 입시 결과 비교
  - 점수 분포 비교
  - 경쟁률 비교
- [ ] 비교 결과 시각화 데이터
  - 차트용 데이터 포맷 반환
  - 연도별 추이 데이터

**예상 시간**: 2일
**담당자**: Backend Developer

**API 목록**:
| Method | Endpoint | 설명 | 인증 필요 |
|--------|----------|------|-----------|
| POST | /api/compare | 대학/학과 비교 | O |
| GET | /api/compare/history | 비교 이력 조회 | O |

---

### 4.3 알림 시스템 API (3일)
- [ ] 알림 데이터 모델
  - Notification 스키마 정의
  - 알림 타입 정의 (입시정보, 모집요강, 시스템)
- [ ] 알림 CRUD API
  - `GET /api/notifications` (알림 목록)
  - `GET /api/notifications/:id` (알림 상세)
  - `PUT /api/notifications/:id/read` (알림 읽음 처리)
  - `DELETE /api/notifications/:id` (알림 삭제)
  - `DELETE /api/notifications` (전체 알림 삭제)
- [ ] 알림 생성 로직
  - 입시 정보 업데이트 시 자동 알림
  - 관심 대학 점수 변동 시 알림
  - 모집요강 변경 시 알림
- [ ] 실시간 알림 (선택사항)
  - WebSocket 또는 Server-Sent Events 구현
  - 푸시 알림 연동 준비

**예상 시간**: 3일
**담당자**: Backend Developer

**API 목록**:
| Method | Endpoint | 설명 | 인증 필요 |
|--------|----------|------|-----------|
| GET | /api/notifications | 알림 목록 | O |
| GET | /api/notifications/:id | 알림 상세 | O |
| PUT | /api/notifications/:id/read | 읽음 처리 | O |
| DELETE | /api/notifications/:id | 알림 삭제 | O |
| DELETE | /api/notifications | 전체 삭제 | O |
| GET | /api/notifications/unread-count | 안읽은 알림 수 | O |

---

### 4.4 사용자 선호도 관리 API (1일)
- [ ] 선호도 데이터 모델
  - UserPreference 스키마
- [ ] 선호도 API
  - `GET /api/preferences` (내 선호도 조회)
  - `PUT /api/preferences` (선호도 업데이트)
  - 선호 지역
  - 선호 대학
  - 선호 전공

**예상 시간**: 1일
**담당자**: Backend Developer

---

## 5. 프론트엔드 연동 (7주차)

### 5.1 API 클라이언트 구현 (2일)
- [ ] Axios 설정
  - Base URL 설정
  - Interceptor 구현 (인증 토큰 자동 추가)
  - 에러 핸들링
- [ ] API 서비스 모듈 작성
  ```javascript
  // services/api.js
  - authService.js
  - scoreService.js
  - universityService.js
  - portfolioService.js
  - notificationService.js
  ```

**예상 시간**: 2일
**담당자**: Frontend Developer

---

### 5.2 기존 코드 리팩토링 (3일)
- [ ] 인증 관련 수정
  - 로그인/회원가입 UI 추가
  - JWT 토큰 관리
  - 로그인 상태 유지
- [ ] LocalStorage → API 전환
  - `saveMyInfo()` 함수 수정
  - `loadMyInfo()` 함수 수정
  - 성적 계산 로직 API 호출로 변경
- [ ] 검색/필터링 수정
  - `filterSearchResults()` API 연동
  - `applyFilters()` API 연동
- [ ] 포트폴리오 수정
  - `savePortfolio()` API 연동
  - 포트폴리오 목록 API 연동
- [ ] 알림 기능 수정
  - 알림 목록 API 연동
  - 실시간 알림 구독

**예상 시간**: 3일
**담당자**: Frontend Developer

---

### 5.3 에러 처리 및 로딩 상태 (1일)
- [ ] 로딩 스피너 구현
- [ ] 에러 메시지 표시
- [ ] 네트워크 오류 처리
- [ ] 재시도 로직

**예상 시간**: 1일
**담당자**: Frontend Developer

---

## 6. 테스트 및 QA (8주차)

### 6.1 단위 테스트 (2일)
- [ ] 백엔드 단위 테스트
  - Jest 설정
  - 컨트롤러 테스트
  - 서비스 로직 테스트
  - 유틸리티 함수 테스트
- [ ] 테스트 커버리지 80% 이상 달성

**예상 시간**: 2일
**담당자**: Backend Developer

---

### 6.2 통합 테스트 (2일)
- [ ] API 통합 테스트
  - Supertest 사용
  - 각 API Endpoint 테스트
  - 인증 플로우 테스트
- [ ] 데이터베이스 트랜잭션 테스트

**예상 시간**: 2일
**담당자**: Backend Developer, QA

---

### 6.3 E2E 테스트 (1일)
- [ ] 프론트엔드 E2E 테스트
  - Cypress/Playwright 설정
  - 주요 사용자 시나리오 테스트
  - 회원가입 → 성적 입력 → 검색 → 포트폴리오 생성 플로우

**예상 시간**: 1일
**담당자**: Frontend Developer, QA

---

### 6.4 성능 테스트 (1일)
- [ ] 부하 테스트
  - Artillery/K6 사용
  - 동시 사용자 100명 기준
  - API 응답 시간 측정
- [ ] 데이터베이스 쿼리 최적화
  - Slow Query 분석
  - 인덱스 추가

**예상 시간**: 1일
**담당자**: Backend Developer, DevOps

---

## 7. 배포 및 운영 준비 (9주차)

### 7.1 배포 환경 구축 (2일)
- [ ] 클라우드 인프라 설정
  - AWS/GCP/Azure 선택
  - EC2/Compute Engine 인스턴스 설정
  - RDS/Cloud SQL 데이터베이스 설정
- [ ] CI/CD 파이프라인
  - GitHub Actions 설정
  - 자동 빌드 및 배포
- [ ] 환경 변수 관리
  - 개발/스테이징/운영 환경 분리

**예상 시간**: 2일
**담당자**: DevOps

---

### 7.2 모니터링 및 로깅 (1일)
- [ ] 로깅 시스템
  - Winston Logger 설정
  - 로그 레벨 분리
  - 로그 저장소 설정
- [ ] 모니터링 도구
  - PM2 설정
  - 헬스체크 엔드포인트
  - 에러 트래킹 (Sentry)

**예상 시간**: 1일
**담당자**: DevOps

---

### 7.3 문서화 (2일)
- [ ] API 문서 최종 정리
  - Swagger UI 배포
  - API 사용 가이드
- [ ] 운영 매뉴얼 작성
  - 배포 가이드
  - 트러블슈팅 가이드
  - 데이터 백업 절차
- [ ] 사용자 매뉴얼 작성

**예상 시간**: 2일
**담당자**: Tech Writer, Developer

---

## 8. 일정 요약

| Phase | 주요 작업 | 예상 기간 | 누적 기간 |
|-------|----------|-----------|-----------|
| 준비 | 환경 구축 및 설계 | 1주 | 1주 |
| Phase 1 | 기본 인프라 구축 | 1주 | 2주 |
| Phase 2 | 핵심 기능 개발 | 2주 | 4주 |
| Phase 3 | 고급 기능 개발 | 2주 | 6주 |
| 연동 | 프론트엔드 연동 | 1주 | 7주 |
| 테스트 | 테스트 및 QA | 1주 | 8주 |
| 배포 | 배포 및 운영 준비 | 1주 | 9주 |

---

## 9. 리소스 계획

### 9.1 인력
- **Backend Developer**: 1명 (풀타임)
- **Frontend Developer**: 1명 (풀타임)
- **DevOps Engineer**: 1명 (파트타임)
- **QA Engineer**: 1명 (파트타임, 6주차부터)
- **Tech Writer**: 1명 (파트타임, 9주차)

### 9.2 인프라
- **개발 서버**: 1대
- **스테이징 서버**: 1대
- **운영 서버**: 2대 (로드 밸런싱)
- **데이터베이스**: RDS/Cloud SQL
- **CDN**: CloudFront/Cloud CDN (정적 파일 제공)

---

## 10. 위험 요소 및 대응 방안

### 10.1 기술적 위험
| 위험 | 영향도 | 대응 방안 |
|------|--------|-----------|
| 데이터 마이그레이션 실패 | 높음 | 백업 및 롤백 계획 수립, 점진적 마이그레이션 |
| API 성능 이슈 | 중간 | 캐싱 전략 수립, 데이터베이스 최적화 |
| 보안 취약점 | 높음 | 정기적인 보안 점검, OWASP Top 10 대응 |

### 10.2 일정 위험
| 위험 | 영향도 | 대응 방안 |
|------|--------|-----------|
| 일정 지연 | 중간 | 버퍼 기간 1주 추가, 우선순위 조정 |
| 리소스 부족 | 중간 | 외부 인력 투입 계획 |

---

## 11. 핵심 성과 지표 (KPI)

### 11.1 기술 지표
- API 응답 시간: 평균 200ms 이하
- 데이터베이스 쿼리 시간: 평균 50ms 이하
- 테스트 커버리지: 80% 이상
- 가용률: 99.9% 이상

### 11.2 비즈니스 지표
- 사용자 회원가입률
- 포트폴리오 생성 건수
- 검색 사용 빈도
- 사용자 체류 시간

---

## 12. 다음 단계

### 즉시 시작 가능한 작업
1. ✅ 개발 환경 구축
2. ✅ 데이터베이스 ERD 작성
3. ✅ API 명세서 초안 작성

### 의사결정 필요 사항
- [ ] 클라우드 플랫폼 선택 (AWS/GCP/Azure)
- [ ] 데이터베이스 선택 (PostgreSQL/MySQL)
- [ ] ORM 선택 (Prisma/Sequelize)
- [ ] 프로젝트 시작일 확정

---

## 13. 부록

### 13.1 주요 기술 스택
```
Backend:
- Runtime: Node.js v18+
- Framework: Express.js 4.x
- Database: PostgreSQL 15+ / MySQL 8+
- ORM: Prisma 5.x / Sequelize 6.x
- Authentication: JWT + bcrypt
- Validation: Joi / Zod
- Testing: Jest + Supertest
- Documentation: Swagger/OpenAPI

Frontend:
- HTTP Client: Axios
- Charts: Chart.js (기존)

DevOps:
- CI/CD: GitHub Actions
- Process Manager: PM2
- Monitoring: PM2 Monitor, Sentry
- Logging: Winston
- Load Testing: Artillery / K6
```

### 13.2 참고 자료
- 현재 프론트엔드 코드: `script.js`
- 마스터 데이터: `docs/TB_MASTER_1014_ver2.xlsx`
- 점수 분포 데이터: `docs/202509분포(실채점).xlsx`

---

**문서 버전**: 1.0
**작성일**: 2025-10-22
**최종 수정일**: 2025-10-22
